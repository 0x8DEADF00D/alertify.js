/**
 * Alertify
 * An unobtrusive customizable JavaScript notification system
 *
 * @author Fabien Doiron <fabien.doiron@gmail.com>
 * @copyright Fabien Doiron 2012
 * @license The MIT License (MIT) <http://opensource.org/licenses/mit-license.php>
 * @link http://www.github.com/fabien-d
 * @module Alertify
 * @version 0.1a1
 */
(function(e,t){"use strict";var n=e.document,r;r=function(){var e,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g=5e3,y,b,w,E,S=[],x=!1;return w={ok:"OK",cancel:"Cancel"},y={buttons:{holder:'<nav class="alertify-buttons">{{buttons}}</nav>',ok:'<a href="#" class="alertify-button alertify-button-ok" id="aOK">{{ok}}</a>',cancel:'<a href="#" class="alertify-button alertify-button-cancel" id="aCancel">{{cancel}}</a>'},input:'<input type="text" class="alertify-text" id="aText">',message:'<p class="alertify-message">{{message}}</p>',log:'<article class="alertify-log{{class}}">{{message}}</article>'},v=function(e){return n.getElementById(e)},e=function(){n.createElement("nav"),n.createElement("article"),n.createElement("section"),m=n.createElement("div"),m.setAttribute("id","alertifycover"),m.className="alertify-cover alertify-hidden",n.body.appendChild(m),b=n.createElement("section"),b.setAttribute("id","alertify"),b.className="alertify alertify-hidden",n.body.appendChild(b),E=n.createElement("section"),E.setAttribute("id","alertifylogs"),E.className="alertify-logs",n.body.appendChild(E)},r=function(e){var n=v("aOK")||t,r=v("aCancel")||t,s=v("aText")||t,o="";typeof n!="undefined"&&i(n,"click",function(t){a(),typeof s!="undefined"&&(o=s.value),typeof e=="function"&&e(!0,o),t.preventDefault()}),typeof r!="undefined"&&i(r,"click",function(t){a(),typeof e=="function"&&e(!1),t.preventDefault()})},i=function(e,t,n){typeof e.addEventListener=="function"?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},s=function(e){var t="",n=e.type,r=e.message;t+='<div class="alertify-dialog">',t+='<article class="alertify-inner">',t+=y.message.replace("{{message}}",r),n==="prompt"&&(t+=y.input),t+=y.buttons.holder,t+="</article>",t+="</div>";switch(n){case"confirm":case"prompt":t=t.replace("{{buttons}}",y.buttons.cancel+y.buttons.ok),t=t.replace("{{ok}}",w.ok).replace("{{cancel}}",w.cancel);break;case"alert":t=t.replace("{{buttons}}",y.buttons.ok),t=t.replace("{{ok}}",w.ok);break;default:}return b.className="alertify alertify-show alertify-"+n,m.className="alertify-cover",t},o=function(){setTimeout(function(){var e=E.childNodes[E.childNodes.length-1];typeof e!="undefined"&&E.removeChild(e)},g)},u=function(e){return function(t){p(t,e)}},f=function(e,t){var r=n.createElement("article");r.className="alertify-log"+(typeof t=="string"&&t!==""?" alertify-log-"+t:""),r.innerHTML=e,E.insertBefore(r,E.firstChild),setTimeout(function(){r.className=r.className+" alertify-log-show"},50),o()},a=function(){S.splice(0,1),S.length>0?l():(x=!1,b.className="alertify alertify-hide alertify-hidden",m.className="alertify-cover alertify-hidden")},l=function(){var e=S[0];x=!0,b.innerHTML=s(e),r(e.callback)},c=function(e,t){return S.push({type:"alert",message:e,callback:t}),x||l(),this},h=function(e,t){return S.push({type:"confirm",message:e,callback:t}),x||l(),this},p=function(e,t){return f(e,t),this},d=function(e,t){return S.push({type:"prompt",message:e,callback:t}),x||l(),this},e(),{alert:c,confirm:h,log:p,prompt:d,success:function(e){p(e,"success")},error:function(e){p(e,"error")},extend:u,labels:w,delay:g}},typeof e.alertify=="undefined"&&(e.alertify=new r)})(this);